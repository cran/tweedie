# src/Makevars.in
PKG_FFLAGS = $(FPIC_FLAGS)
PKG_FCFLAGS = $(FPIC_FLAGS)
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)

# Link all objects into the shared library
$(SHLIB): init.o 00tweedie_params.o rprintf_mod.o R_interfaces.o \
          Calcs_Real.o Calcs_Imag.o \
          Calcs_Solvers.o Calcs_K.o TweedieIntHelpers.o Integrands.o \
          gaussianData.o GaussQuadrature.o TweedieIntegration.o \
          twcomputation.o twcomputation_loop.o

# Dependencies only (R handles the actual compilation command)
twcomputation.o: R_interfaces.o
twcomputation_loop.o: R_interfaces.o
R_interfaces.o: rprintf_mod.o 00tweedie_params.o
Calcs_Real.o: 00tweedie_params.o R_interfaces.o
Calcs_Imag.o: 00tweedie_params.o R_interfaces.o
Calcs_Solvers.o: 00tweedie_params.o R_interfaces.o
Calcs_K.o: Calcs_Solvers.o Calcs_Imag.o 00tweedie_params.o R_interfaces.o
TweedieIntHelpers.o: Calcs_K.o 00tweedie_params.o R_interfaces.o
Integrands.o: Calcs_Real.o
gaussianData.o: 00tweedie_params.o rprintf_mod.o
GaussQuadrature.o: Integrands.o gaussianData.o
TweedieIntegration.o: Integrands.o GaussQuadrature.o TweedieIntHelpers.o R_interfaces.o
